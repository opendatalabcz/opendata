<?xml version="1.0" encoding="utf-8" ?>
<mapping xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="../xsd/datasource_mapping.xsd">

    <headerRow>1</headerRow>

    <property name="recordType" value="ORDER" onlyNewRecords="true"/>

    <property name="subject" onlyNewRecords="false" converter="eu.profinit.opendata.transform.convert.SubjectAppender">
        <sourceFileColumn originalName="Předmět" argumentName="mainSubject"/>
        <sourceFileColumn originalName="Předmět_řádku" argumentName="lineSubject"/>
    </property>

    <property name="dateCreated" onlyNewRecords="true" converter="eu.profinit.opendata.transform.convert.DateSetter">
        <sourceFileColumn originalName="Datum_vystavení" argumentName="inputDateString"/>
    </property>

    <property name="currency" onlyNewRecords="true" converter="eu.profinit.opendata.transform.convert.CurrencySetter">
        <sourceFileColumn originalName="Měna" argumentName="inputCurrencyCode"/>
    </property>

    <property name="originalCurrencyAmount" onlyNewRecords="true" converter="eu.profinit.opendata.transform.convert.DirectMoneySetter">
        <sourceFileColumn originalName="Částka_v_měně" argumentName="inputAmount"/>
    </property>

    <property name="amountCzkWithoutVat" onlyNewRecords="true" converter="eu.profinit.opendata.transform.convert.CZKAmountSetter">
        <sourceFileColumn originalName="Částka_bez_DPH" argumentName="inputAmount"/>
    </property>

    <property name="amountCzkWithVat" onlyNewRecords="true" converter="eu.profinit.opendata.transform.convert.CZKAmountSetter">
        <sourceFileColumn originalName="Ćástka" argumentName="inputAmount"/> <!-- Ano, opravdu je tam carka misto hacku -->
    </property>

    <property name="authorityIdentifier" onlyNewRecords="true" converter="eu.profinit.opendata.transform.convert.DirectStringSetter">
        <sourceFileColumn originalName="Číslo_objednávky" argumentName="inputString"/>
    </property>

</mapping>